<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_main_button_mask</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-6</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(obj_controller.main_font);
var sss = (/*view_wview[0]*/1150-text_in_button_widtn(obj_controller.l_n_shop)-text_in_button_widtn(obj_controller.l_n_upgrades)-text_in_button_widtn(obj_controller.l_n_stats))/4;
var ratio = (view_wview[0]-1150)/2;
line=obj_controller.l_n_stats;
screen=3;
surf_x=512;
surf_y=256;
td = string_width(line);  

x = view_xview[0]+ratio+sss+text_in_button_widtn(obj_controller.l_n_shop)+sss+text_in_button_widtn(obj_controller.l_n_upgrades)+sss+(text_in_button_widtn(obj_controller.l_n_stats)/2); 
y = ((view_hview[0]/24)*23)-obj_controller.up_mode2*0.97;
ec = x+td/2-15;    

button_surf=surface_create(surf_x,surf_y);
scr_surf_button(line,global.screen=screen);

mouse_x_press = 0;
mouse_y_press = 0;

//t = 0;
//n = 0;
ready = 0;

//draw_set_font(font6);
//otstup = 60+20+max(string_width(st_collect),string_width(st_collect_by_hand),string_width(st_collect_by_auto),string_width(st_clicks),string_width(st_own_items),string_width(st_own_upgrades),string_width(st_max_bonus),string_width(st_income_per_second),string_width(st_income_per_click));

slider_pos3 = obj_shop.y;

/*prom = 61;
pros = 60+30;
pross = 854-90;
prorr = 340/2+90;

zn1=  0;
zn2=  0;
zn3=  0;
zn4=  0;
zn5=  0;
zn6=  0;
zn7=  0;
zn8=  0;
zn9=  0;
zn10= 0;
zn11= 0;
zn12= 0;

zn1_st = 0;
zn2_st = 0;
zn3_st = 0;
zn6_st = 0;
zn7_st = 0;

zn1_wd = 0;
zn2_wd = 0;
zn3_wd = 0;
zn6_wd = 0;
zn7_wd = 0;

prosokr = view_xview[0]+view_wview[0]-pros;

alarm[0]=30;*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
zn1=  string(obj_controller.ore_count_all);
zn2=  string(obj_controller.ore_count_hand);
zn3=  string(obj_controller.ore_count_auto);
zn4=  string(obj_controller.ore_count_clicks);
zn5=  string(obj_controller.own_items+obj_controller.own_upgrades+obj_controller.own_global_upgrades);
zn6=  string(global.ore_per_second);
zn7=  string(global.ore_per_click);
zn8=  string(obj_controller.max_bonus);
zn9=  string(floor(obj_controller.ore/2))       +string(' / 4');
zn10= string(obj_controller.unic_items)         +string(' / 50');
zn11= string(obj_controller.own_upgrades)       +string(' / 196');
zn12= string(obj_controller.own_global_upgrades)+string(' / 13');

var zn1_l = string_length(zn1);
var zn2_l = string_length(zn2);
var zn3_l = string_length(zn3);
var zn6_l = string_length(zn6);
var zn7_l = string_length(zn7);

if string_pos('.', zn1) != 0 zn1= string_delete(zn1,zn1_l-2,3);
if string_pos('.', zn2) != 0 zn2= string_delete(zn2,zn2_l-2,3);
if string_pos('.', zn3) != 0 zn3= string_delete(zn3,zn3_l-2,3);
if string_pos('.', zn6) != 0 zn6= string_delete(zn6,zn6_l-2,3);
if string_pos('.', zn7) != 0 zn7= string_delete(zn7,zn7_l-2,3);

zn1_l = string_length(zn1);
zn2_l = string_length(zn2);
zn3_l = string_length(zn3);
zn6_l = string_length(zn6);
zn7_l = string_length(zn7);

if obj_controller.ore_count_all &gt; 10000000000         {zn1_st=zn1_l-10; zn1=string_delete(zn1,zn1_l-zn1_st,zn1_st+1)+'*10  ';zn1_st+=1;}
if obj_controller.ore_count_hand &gt; 10000000000        {zn2_st=zn2_l-10; zn2=string_delete(zn2,zn2_l-zn2_st,zn2_st+1)+'*10  ';zn2_st+=1;}
if obj_controller.ore_count_auto &gt; 10000000000        {zn3_st=zn3_l-10; zn3=string_delete(zn3,zn3_l-zn3_st,zn3_st+1)+'*10  ';zn3_st+=1;}
if global.ore_per_second &gt; 10000000000                {zn6_st=zn6_l-10; zn6=string_delete(zn6,zn6_l-zn6_st,zn6_st+1)+'*10  ';zn6_st+=1;}
if global.ore_per_click &gt; 10000000000                 {zn7_st=zn7_l-10; zn7=string_delete(zn7,zn7_l-zn7_st,zn7_st+1)+'*10  ';zn7_st+=1;}

if ready = 0 ready = 1;
if global.screen = 3 alarm[0]=30;*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !global.popup_open {
if mouse_x_press = mouse_x and mouse_y_press = mouse_y {

    //где мы были в последний раз
    obj_shop.shop_pos[global.screen]=obj_shop.y;

    if global.screen = 0
    {
        //obj_shop.y = obj_button_stats.slider_pos3;
    obj_controller.to_shop = 1;
    //obj_controller.closing_pers=0; 
    //obj_controller.closing_on = 0;
    obj_controller.backx =1; 
    obj_controller.up_mode3=0;
    obj_controller.alarm[0]=obj_controller.mnmult-1;
    global.screen=3;    
    obj_shop.shop_pos[3]+=obj_controller.mn*11;
    obj_button_shop.moving = 1;
    ready = 0;
    alarm[0]=10;
    }
    else if global.screen = 1
    {
        obj_button_shop.slider_pos1 = obj_shop.y;
    global.screen=3;
        //obj_shop.y = obj_button_stats.slider_pos3;
    ready = 0;
    alarm[0]=10;
        
    }
    else if global.screen = 2
    {
        obj_button_upgrades.slider_pos2 = obj_shop.y;
    global.screen=3;  
        //obj_shop.y = obj_button_stats.slider_pos3;
    ready = 0;
    alarm[0]=10;
        
    }
    else if global.screen = 3
    {
        obj_button_stats.slider_pos3 = obj_shop.y;
    obj_controller.to_main = 1;
    obj_controller.alarm[1]=obj_controller.mnmult-1;

    obj_button_shop.moving = 1;
    }

    global.shop_items_number = 4; // длинна прокрутки в статах
    
    if global.sound = 1{
        var snd = snd_8bit_button;
        audio_play_sound(snd, 1, 0);
        audio_sound_pitch(snd, random_range(0.9,1.1));
    }
    
    scr_turn_child_list(3)
    scr_surf_button(line,!obj_controller.to_main);
    with obj_button_shop scr_surf_button(line,0);
    with obj_button_upgrades scr_surf_button(line,0);


}
}

mouse_x_press = 0;
mouse_y_press = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mouse_x_press = mouse_x;
mouse_y_press = mouse_y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if surface_exists(button_surf) draw_surface(button_surf,x-surf_x/2,y-surf_y/2);
else scr_surf_button(line,global.screen=screen);



</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
