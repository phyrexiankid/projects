<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_main_button_mask</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-6</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(obj_controller.main_font);
var sss = (/*view_wview[0]*/1150-text_in_button_widtn(obj_controller.l_n_shop)-text_in_button_widtn(obj_controller.l_n_upgrades)-text_in_button_widtn(obj_controller.l_n_stats))/4;
var ratio = (view_wview[0]-1150)/2;
line=obj_controller.l_n_upgrades;
screen=2;
surf_x=512;
surf_y=256;
td = string_width(line);                         

x = view_xview[0]+ratio+sss+text_in_button_widtn(obj_controller.l_n_shop)+sss+(text_in_button_widtn(obj_controller.l_n_upgrades)/2);
y = ((view_hview[0]/24)*23)-obj_controller.up_mode2*0.97;
ec = x+td/2-15;    

button_surf=surface_create(surf_x,surf_y);
scr_surf_button(line,global.screen=screen);

mouse_x_press = 0;
mouse_y_press = 0;

enabled_count = 0;

slider_pos2 = obj_shop.y;

alarm[0]=room_speed*3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///upgrades available
/*

ТЕПЕРЬ ОБА В КНОПКЕ МАГАЗА

counting = 0;

with obj_upgrade_tab{
if global.ore_count/global.costmod &gt;= totalcost other.counting += 1;
}

with obj_upgrade_tab_main{
if global.ore_count/global.costmod &gt;= totalcost other.counting += 1;
}

enabled_count=counting;

alarm[0]=room_speed*2;*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///button effect

if !global.popup_open {
if mouse_x_press = mouse_x and mouse_y_press = mouse_y {

    //где мы были в последний раз
    obj_shop.shop_pos[global.screen]=obj_shop.y;

    if global.screen = 0
    {
            //obj_shop.y = obj_button_upgrades.slider_pos2;
        obj_controller.to_shop = 1;
        //obj_controller.closing_pers=0; 
        //obj_controller.closing_on = 0;
        obj_controller.backx =1; 
        obj_controller.up_mode3=0;
        obj_controller.alarm[0]=obj_controller.mnmult-1;
        global.screen=2;
        obj_shop.shop_pos[2]+=obj_controller.mn*11;
        obj_button_shop.moving = 1;
    }
    else if global.screen = 2
    {
        obj_button_upgrades.slider_pos2 = obj_shop.y;
        obj_controller.to_main = 1;
        obj_controller.alarm[1]=obj_controller.mnmult-1;
        obj_button_shop.moving = 1;
    }
    else if global.screen = 1
    {
            obj_button_shop.slider_pos1 = obj_shop.y;
        global.screen=2;
            //obj_shop.y = obj_button_upgrades.slider_pos2;
    }
    else if global.screen = 3
    {   
            obj_button_stats.slider_pos3 = obj_shop.y;
        global.screen=2;
            //obj_shop.y = obj_button_upgrades.slider_pos2; 
    }
    
    global.shop_items_number = ds_list_size(obj_shop.child_list[2]); // длинна прокрутки в апгрейдах
    
    if global.sound = 1{
        var snd = snd_8bit_button;
        audio_play_sound(snd, 1, 0);
        audio_sound_pitch(snd, random_range(0.9,1.1));
    }
    
    scr_turn_child_list(2);
    scr_surf_button(line,!obj_controller.to_main);
    with obj_button_shop scr_surf_button(line,0);
    with obj_button_stats scr_surf_button(line,0);
    scr_upgrades_resort();

}
}

mouse_x_press = 0;
mouse_y_press = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mouse_x_press = mouse_x;
mouse_y_press = mouse_y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if surface_exists(button_surf) draw_surface(button_surf,x-surf_x/2,y-surf_y/2);
else scr_surf_button(line,global.screen=screen);

if enabled_count &gt; 0
{
draw_sprite(sp_enabled_count,1,x+td/2-15,y-67);
draw_set_color(c_black);
draw_set_valign(fa_middle);
draw_set_halign(fa_center);
draw_set_font(font7);
draw_text(ec,y-67,enabled_count);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
