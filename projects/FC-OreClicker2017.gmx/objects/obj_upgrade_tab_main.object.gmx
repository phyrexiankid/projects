<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_main_plash2</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-4</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>name_font = font4;
descript = '';
num=1;
num2=2;
xmi=sprite_get_width(sp_main_plash)/2;
ymi=sprite_get_height(sp_main_plash)/2;
sph = sprite_get_height(sp_main_plash)/2;
spw = sprite_get_width(sp_main_plash)/2;

cost = 0;
cost1 = 0;
cost2 = 0;
value = obj_shop.shop_upgrade[num,0];
name = obj_controller.l_upgr[num,0];
color = obj_controller.ore_color;
color2 = obj_controller.main_color_white;
color3 = obj_controller.main_color_grey;
color4 = obj_controller.main_color;

list_mult = 5;

moving_out = 0;

costmode = 1;
totalcost = 0;
totalcost_s = '';
step = 0;
step_width = 0;
can_buy=0;
ore_picture = 1;
ore_color = obj_controller.ore_color_0;
new_color = noone;
totalcost = 0;
enabled = 0;
just_clicked = 0;

press_y = 0;

x= view_xview[0]+view_wview[0]/2;



x_shift=0;
y_shift=0;

alarm[0]=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>just_clicked = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>        if num = 114{
            if obj_controller.max_base_click &gt; obj_controller.lvl_base_click {
                scr_create_upgrade_main(114,2)
            } else obj_controller.baseClickUpgradeExists= 0;
        }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///totalcost
draw_set_font(obj_controller.main_font3);

step = 0;

if totalcost &lt; 10 {
    totalcost_s= string_format(string(totalcost),1,1);;
    step_width = string_width(string(totalcost));
} else if totalcost &gt;= 10 and totalcost &lt; 10000000000 {
totalcost_s=string(totalcost);
if      string_pos('.', string(totalcost)) = 0            totalcost_s=string(totalcost)+string('.00');
var tempNumber = string_length(totalcost_s);
if tempNumber &gt; 6 {
    totalcost_s = string_insert(" ", totalcost_s, tempNumber-5);
    if tempNumber &gt; 9 {
        totalcost_s = string_insert(" ", totalcost_s, tempNumber-8);
        if tempNumber &gt; 12 {
            totalcost_s = string_insert(" ", totalcost_s, tempNumber-11);
        }
    }
}
totalcost_s=string_delete(totalcost_s,string_length(totalcost_s)-2,3);
step_width = string_width(totalcost_s);

} else if totalcost &gt;= 10000000000 {
totalcost_s=string(totalcost);
if string_pos('.', string(totalcost)) = 0 totalcost_s=string(totalcost)+string('.00');
var tempNumber = string_length(totalcost_s);    
step = tempNumber-13;

totalcost_s = string_delete(totalcost_s,tempNumber-2-step,3+step);
step+=1;
tempNumber = string_length(totalcost_s); 

if tempNumber &gt; 3 {
    totalcost_s = string_insert(" ", totalcost_s, tempNumber-2);
    if tempNumber &gt; 6 {
        totalcost_s = string_insert(" ", totalcost_s, tempNumber-5);
        if tempNumber &gt; 9 {
            totalcost_s = string_insert(" ", totalcost_s, tempNumber-8);
            /*if tempNumber &gt; 12 {
                totalcost_s = string_insert(" ", totalcost_s, tempNumber-11);
            }*/
        }
    }
}
totalcost_s+=string('*10');
step_width = string_width(totalcost_s);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// ++remove upgrade from list++


ds_list_delete(obj_shop.child_list[2], ds_list_find_index(obj_shop.child_list[2], id));
//ds_list_sort(obj_shop.child_list[2], true);
scr_upgrades_resort();

global.shop_items_number = ds_list_size(obj_shop.child_list[2]); //длинна прокрутки апгрейдов изменяется после появления нового


obj_shop.shop_upgrade_main[num]=2;
/*ini_open('Save.sav');
ini_write_real('obj_upgrade_tab_main',string(num),2);
ini_close();*/
scr_save_shop();

instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///upgrade effects

if num != 114 obj_shop.shop_upgrade[num,num2] = 2;

if num = 101 or num = 102 or num = 103 or num = 104 or num = 105 { //процент буста
        
        obj_controller.boost_mode_perc_num += 1;
        if obj_controller.boost_mode_perc_num = 1 instance_create(0,0,obj_bonus_button);
    
} else if num = 106 or num = 107 or num = 108 or num = 109 or num = 110 or num = 111 or num = 112 or num = 113{ //скорость/падение бонуса 
         if num2 = 0 obj_controller.closing_taps /= 2; 
    else if num2 = 1 obj_controller.closing_downspeed /= 1.5;
} else if num = 114 or num = 115 or num = 116 or num = 117{ //т.п.к. х2
    //global.max_click_num += 1;

        global.base_click*=3;
        global.ore_per_click = global.base_click+global.add_click ;
        obj_controller.lvl_base_click += 1;
        /*var up14 = instance_create(0,0,obj_upgrade_tab_main ); 
        up14.num=114;
        up14.num2=2;*/
}

alarm[2] = 15;
alarm[4] = 10;
moving_out = 1;

if global.sound = 1{
    var snd = snd_8bit_back;
    audio_play_sound(snd, 1, 0);
    audio_sound_pitch(snd, random_range(0.7,1.2));
}
 
obj_controller.alarm[3]=1; // saving everything
obj_controller.alarm[6]=2;
obj_shop.alarm[6] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///start effects



if global.screen = 2  global.shop_items_number = ds_list_size(obj_shop.child_list[2]); //длинна прокрутки апгрейдов изменяется после появления нового

switch (num)
{
case 101: image = sp_main_upgr_boost; cost = 1000; break;
case 102: image = sp_main_upgr_boost; cost = 50000000*2; break;
case 103: image = sp_main_upgr_boost; cost = 250000000000000*3; break;
case 104: image = sp_main_upgr_boost; cost = 1000000000000000000000*4; break;
case 105: image = sp_main_upgr_boost; cost = 5000000000000000000000000000*5; break;

case 106: image = sp_main_upgr_perc; cost = 50000000*2; break;
case 107: image = sp_main_upgr_perc; cost = 5000*2; break;
case 108: image = sp_main_upgr_perc; cost = 5000000000000000*3; break;
case 109: image = sp_main_upgr_perc; cost = 500000000000*3; break;
case 110: image = sp_main_upgr_perc; cost = 500000000000000000000000*4; break;
case 111: image = sp_main_upgr_perc; cost = 50000000000000000000*4; break;
case 112: image = sp_main_upgr_perc; cost = 50000000000000000000000000000000*5; break;
case 113: image = sp_main_upgr_perc; cost = 5000000000000000000000000000*5; break;

case 114: image = sp_main_upgr_clicks; cost = 1000; break;            
case 115: image = sp_main_upgr_clicks; cost = 100000; break;           
case 116: image = sp_main_upgr_clicks; cost = 10000000; break;           
case 117: image = sp_main_upgr_clicks; cost = 1000000000; break;                      

default: image = sp_upgrade_3; 
}
name     = obj_controller.l_upgr[num,num2];
descript = obj_controller.l_upgr_descr[num,num2];
draw_set_font(font4);
var name_width = string_width(name);
if name_width &gt; 750 name_font = font4_2;

if num = 114 { //если это клики
    cost = global.base_click*6000; 
    num2 = floor(obj_controller.ore/2);
    obj_controller.baseClickUpgradeExists= 1;
}

//ds_list_add(obj_shop.child_list[2], id);
//log('5size= '+string(ds_list_size(obj_shop.child_list[2])));
//ds_list_sort(obj_shop.child_list[2], true);
scr_upgrades_resort()

obj_shop.shop_upgrade_main[num]=1;
/*ini_open('Save.sav');
ini_write_real('obj_upgrade_tab_main',string(num),1);
ini_close();*/
scr_save_shop();

if cost/global.costmod &lt; 1 cost=1*global.costmod;
totalcost = cost/global.costmod;
alarm[3]=5;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if visible = 1
{
if y=press_y and global.popup_open = 0 and mouse_y &gt; view_hview/2 +10
{
    if moving_out = 0 and global.ore_count/global.costmod &gt;= totalcost //куплено
    {
    global.ore_count -= totalcost*global.costmod;
    alarm[1]=1;
    if num != 114 obj_controller.own_global_upgrades += 1;
    /*ini_open('Save.sav');
    ini_write_real('obj_controller','own_global_upgrades', obj_controller.own_global_upgrades);
    ini_close();*/
    scr_save_main();
    just_clicked = 1;
    alarm[10]=7;
    
    }
}
press_y = 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if visible = 1
{
press_y = y;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>504,121</point>
    <point>504,504</point>
  </PhysicsShapePoints>
</object>
