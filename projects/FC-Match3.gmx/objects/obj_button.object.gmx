<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_button_orange</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-202</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
/*

 ini_write_real('game', 'lastTime',date_current_datetime());
        time = ini_read_real('game', 'lastTime', 0);
        ini_write_real("game","lives", 5)
        global.live = 5
    }
    ini_close()
    
    if date_compare_datetime(date_current_datetime(), time)=time {
    
    
    check_time_diff(time);
*/


index = 0;

check   = 0;
color   = noone;
shadow  = 0;
font    = noone;
sprite  = noone;
image   = 0;
angle   = 0;
line    = 'TEST';
target  = noone;
shift   = 3;
ui      = 0; //if 1, it will move as ui
mode    = 0; //это дополнительно к индексу, если несколько похожих кнопок
father  = 0; //это дополнительный таргет, типа как на плашках с кнопкой

mooving = 0;
//1-оба
//2-только X

clicked = 0;
xx = 0;
yy = 0;
zdv = 8;//сдвиг надписи, у некоторых другой

size = 0;
size_mod = 0;
size_mod_change = 20;
y_shift=0;
x_shift=0;

sur_w = 512;
sur_h = 128;
button=0;
buttshift=0;

press_sound=0;
release_sound=0;

text_surf = surface_create(sur_w,sur_h);
ds_list_add(Main.surface_list,text_surf);

image_speed = 0;
visible = 0;
alarm[0]=1;
crtd=0;
make_sound=0;
//scr_button_rebounce();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>surface_free(text_surf);
ds_list_delete(Main.surface_list,ds_list_find_index(Main.surface_list,text_surf));
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if ds_map_exists(fb_photo_recieve, "data") { 
    //var data_list_curr,request_score,request_user,request_id,requester_id; 
    var data_map=ds_map_find_value(fb_photo_recieve,"data");                 // ds_map
    player_picture = ds_map_find_value(data_map,"url");                      // value 
    
    log(string(player_picture));
    sprite = sprite_add(player_picture, 1, false, false, 0, 0);
    sprite_index = sprite;
    //destroy maps, free memory
    ds_map_destroy(data_map);
    
} else {
    //no connection or graphresponse still not populated
    
}





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Button Action

switch(index) {
case -1: //геймплей - пауза 
if global.pause=0 scr_show_bluring_menu(0,0)
break;

case 0: //геймплей - пауза - в меню 
scr_transition_to(room_bookmarks);
break;

case 1: //геймплей - пауза - продолжить
scr_close_blurring(0,105);
break;


//геймплей - прошел уровень - поделиться
case 2:

break;

//геймплей - прошел уровень - продолжить
case 3:
instance_activate_all();
scr_transition_to(room_bookmarks);
//запишем счет и номер игры в базу (для теста хайскоров)
//path = 'http://calculyzer.net46.net/supp';
//http_post_string(string(path)+string("/async.php?f=sg"),string("sscore=")+string(global.sscore));
break;

//геймплей - прошел уровень - выход (в меню?)
case 4:
if room=room_gameplay {
    with all {
        if object_get_name(object_index)!='Main' and object_get_name(object_index)!='mtf' {
            instance_destroy();
        }
    }
    scr_transition_to(room_bookmarks);
} else {
    if instance_exists(obj_pause_menu) {
        if obj_pause_menu.pause_type=13 {
            //аналитика - отказ от рандом рекламы
            GoogleAnalytics_SendEventExt('Gameplay','Watching add','Cancel random ad',1);
        }
    }
    scr_close_blurring(0,0);
}
break;

//геймплей - завалил уровень - купить время за рекламу
case 5:
//аналитика - купил время за рекламу
GoogleAnalytics_SendEventExt('Gameplay','Watching add','Restart level for add',1);

        Main.ad_place=4;
        if AdColony_VideoAvailable()=1 {
            with Main AdColony_ShowVideo(Main.ZoneId);
        } else if AdColony_VideoAvailable()=0 and GoogleMobileAds_InterstitialStatus()=="Ready" {
            with Main {GoogleMobileAds_ShowInterstitial(); alarm[5]=room_speed*5;}
        } else {
            Main.alarm[6]=1;
        }

break;

//геймплей - завалил уровень - купить время за гемы
case 6:
if Main.gems &gt;= 10 {
    Main.gems -= 10;
    scr_save();
    scr_close_blurring(Main.time_start*0.5,0);
    }
break;

//мейн меню - сейчас переход к закладкам
case 7:
//scr_transition_to(room_bookmarks); 
break;


//закладки - прокачка
case 11:
if y&gt;1800 or y&lt;100 break;

with target {

/*if surface_exists(text_surf) {alarm[0]=1; Main.custom=11;}
else {alarm[0]=1; Main.custom=22;}*/

switch state {
case 0: //улучшить, покупка прокачки вся здесь
    if gem_cost=0 {//обычная цена
        if Main.gold &gt;= cost_1 { //хватает денег
            Main.gold -= cost_1;
            state=1;
            Main.upgrade[upgrade_index,7]=date_current_datetime();
            alarm[0]=1;
            scr_save();
            var tts=scr_upgrade_time((Main.upgrade[upgrade_index,0]+1)*Main.upgrade[upgrade_index,2])*60;
            log(string('upgr time=')+string(tts/60));
            scr_reset_push(tts/60);
        } else if Main.gold&lt;cost_1 and Main.gems&gt;=cost_2 {//хватает камней
            Main.chest_focused=id;
            scr_show_bluring_menu(5,-cost_2);
        } else if Main.gold&lt;cost_1 and Main.gems&lt;cost_2{
            scr_show_bluring_menu(5,-0);
        }
    } else { //сразу за камни
        if Main.gems &gt;= cost_2 { //хватает денег
            Main.gems -= cost_2;
            state=1;
            Main.upgrade[upgrade_index,7]=date_current_datetime();
            alarm[0]=1;
            scr_save();
            var tts=scr_upgrade_time((Main.upgrade[upgrade_index,0]+1)*Main.upgrade[upgrade_index,2])*60;
            log(string('upgr time=')+string(tts/60));
            scr_reset_push(tts/60);
        } else /*if Main.gold&lt;cost_1 and Main.gems&gt;=cost_2*/ {//хватает камней
            Main.chest_focused=id;
            scr_show_bluring_menu(5,0);
        } 
    }
break;
case 1: //открыть сейчас
    if Main.gems &gt;= upgrade_open_cost { //хватает камней
        Main.chest_focused=id;
        scr_show_bluring_menu(5,3);
    } else {//не хватает камней
        //тут вылезает попап про купить камней, возможно размытие
         scr_show_bluring_menu(5,0);
    } 
break;
case 2: //готово
    scr_upgrade_done();
    if level&lt;max_level {
        state=0;
        other.alarm[0]=1;
    } else {
        state=3;
        other.visible=0;
    }
    Main.upgrade[upgrade_index,7]=state;
    alarm[0]=2;
    scr_save();
    Main.powerup_level[1] = Main.upgrade[10,0];
    Main.powerup_level[2] = Main.upgrade[11,0];
    Main.powerup_level[3] = Main.upgrade[12,0];
    Main.powerup_level[4] = Main.upgrade[13,0];
    Main.powerup_level[5] = Main.upgrade[14,0];
break;
}
}



break;

//закладки - прокачка - купить за валюту
case 12:
if y&gt;1800 or y&lt;100 break;
//рисуем текстовый сюрфейс
//scr_surf_button_BuyForHardCurrency(id); //sp_icons
break;

//закладки - прозрачная кнопка - подарки 
case 13:
scr_open_bookmark_from_button(10);
break;

//закладки - прозрачная кнопка - ввести промокод 
case 14:
scr_open_bookmark_from_button(9);
break;

case 15: //закладки - открыть сундук (3 способа)
switch(mode) {
case 1://открыть за камни (и видимо за 3 камня)
    if Main.gems&gt;=3 { //хватает камней - отнимаем и открываем
        Main.gems-=3;
        scr_close_blurring(10,100);
    } else { //не хватает - соответствующее меню про купить ключи
        scr_show_bluring_menu(5,0);
    }
break;
case 2://открыть за золотые ключи
    if Main.gold_keys&gt;=1 { //хватает золотых - отнимаем и открываем
        Main.gold_keys-=1;
        scr_show_bluring_menu(6,0);
    } else { //не хватает - соответствующее меню про купить ключи
        scr_show_bluring_menu(4,0);
    }
break;
case 3://открыть за серебрянные ключи
    if Main.silver_keys&gt;=1 { //хватает серебрянных - отнимаем и открываем
        Main.silver_keys-=1;
        scr_close_blurring(10,100);
    } else { //не хватает - соответствующее меню про купить ключи
        scr_show_bluring_menu(4,1);
    }
break;
}
break;

case 16: //закладки - купить золотой ключ за гемы
var cost=0;
if mode=0      cost = 12; //золотой
else if mode=1 cost = 3;  //серебряный
//если хватает - отнимает и добавляем соответственно, переходим к выбору чем открыть сундук

if Main.gems&gt;=cost { //хватает на покупку ключа за гемы
    Main.gems-=cost;
    if mode=0 Main.gold_keys+=1;
    else if mode=1 Main.silver_keys+=1;
    scr_show_bluring_menu(3,0);
} else { //не хватает - отправляем в магаз
    scr_show_bluring_menu(5,0);
}
break;

//закладки - нет камней, перейти в магаз
case 17:
//тут все правильно, переходим на 6 - это внутренний магаз.
//куда возвращаться он определяет уже внутри
if mode=0 scr_close_blurring(0,6);
else if mode&lt;0 {//улучшить за гемы вместо золота
    if Main.gems &gt;= abs(mode) {//хватает
        Main.gems += mode;
        scr_save();
        scr_close_blurring(0,102);
    } else {
        scr_show_bluring_menu(5,0);//нет и камней, отправляем за ними
    }
} else if mode=2 {//сократить открытие сундука за гемы (и их точно хватает)
    scr_close_blurring(0,103);
} else if mode=3 {//сократить улучшение за гемы (и их точно хватает)
    scr_close_blurring(0,104);
}
break;

case 18://открытие сундука - готово
with obj_boolmark_shest_drop alarm[2]=2;
break;

//закладки - прозрачная кнопка - квесты 
case 19:
        if instance_exists(obj_badge) {
            with obj_badge {
                if target=other {
                    mode=1;
                }
            }
        }
scr_open_bookmark_from_button(7);
break;

//закладки - назад из внутренней  
case 20:
scr_back_from_inner()
break;

//геймплей - спиннер - крутить
case 21:
scr_setup_spin();
break;

//геймплей - спиннер - готово
case 22:
    if mode=0 { //переиграть левел
        instance_activate_all();
        scr_transition_to(room_gameplay);
    } else if mode=1 { //меню
        instance_activate_all();
        scr_transition_to(room_bookmarks);
    } else if mode=2 { //след. левел
        Main.level_played+=1;
        instance_activate_all();
        scr_transition_to(room_gameplay);
    }
    
//запишем счет и номер игры в базу (для теста хайскоров)
//path = 'http://calculyzer.net46.net/supp';
//http_post_string(string(path)+string("/async.php?f=sg"),string("sscore=")+string(global.sscore));
break;

//попап - ежедневный подарок - собрать
case 26:
if Main.daily_day&gt;5 Main.daily_day=5;
Main.gems+=Main.daily_gift[Main.daily_day];
if Main.daily_day&gt;=5 {Main.daily_day=0; daily_start_count=date_current_datetime();}
scr_save();
scr_close_blurring(0,0);
break;

//попап - напиши отзыв! - не напоминать
case 27:
Main.show_feedback_popup=0;
scr_save();
scr_close_blurring(0,0);
break;

//попап - напиши отзыв! - написать
case 28:
scr_close_blurring(0,8);
//scr_open_bookmark_from_button(8);
break;

//попап - подарок - получить
case 29:
var drop=instance_create(other.x,other.y,obj_spinner_drop);   
drop.num   = 10;
drop.type  = 2;
drop.index = 6;
drop.size=0.8;
drop.reward=1;
drop.font=font_42;
drop.alarm[2]=room_speed*1;
                
scr_close_blurring(0,0);
break;

//попап - рандомный бонус - получить
case 30:
if obj_pause_menu.pressed=1 {
    clicked = 0;
    exit;
} else {
    obj_pause_menu.pressed=1;
}
//аналитика - купил время за рекламу
GoogleAnalytics_SendEventExt('Gameplay','Watching add','Random bonus for ad',1);

        Main.ad_place=3;
        if AdColony_VideoAvailable()=1 {
            with Main AdColony_ShowVideo(Main.ZoneId);
        } else if AdColony_VideoAvailable()=0 and GoogleMobileAds_InterstitialStatus()=="Ready" {
            with Main {GoogleMobileAds_ShowInterstitial(); alarm[5]=room_speed*5;}
        } else {
            Main.alarm[6]=1;
        }

break;

//закладки - отзыв - отправить
case 31:
name='no name test';
email='no email test';
message='no message test';
with obj_text_field {
     scr_check_text();
     if index=0 other.name=line;
else if index=1 other.email=line;
else if index=2 other.message=line;
}
name = string_replace_all(name, ' ', '%20'); 
email = string_replace_all(email, ' ', '%20'); 
message = string_replace_all(message, ' ', '%20'); 
http_get("https://friedcroc.000webhostapp.com/mail.php?email="+email+"&amp;message="+message+"&amp;name="+name);

scr_show_bluring_menu(16,0);
//$name = trim($_POST["name"]);
/*var sender,destination,message;
sender=get_string("Ваш email","example@mail.ru")
destination=get_string("Email получателя","example1@mail.ru")
message=get_string("Текст сообщения","")
http_get("http://url/mail.php?sender="+sender+"&amp;destination="+destination+"&amp;message="+message)*/
break;

//закладки - промокод - готово
case 32:

with obj_text_field {
    if index = 3 {
        if line='15122' {//промо на 100 камней
            if Main.promo[0]=0 {
                Main.promo[0]=1;
                Main.gems+=100;
                scr_save();
                scr_show_bluring_menu(21,0);
            } else {
            
            }
        }
    }
}

break;

//закладки - прозрачная кнопка - список игр 
case 33:
break;

//закладки - подарки от друзей - отправить в ответ
case 34:
    //только первичные, или в перемешку. отправляем, если это первичный
    Main.gold_keys+=ds_list_size(Main.fb_request_list)*1;
    scr_save();
    for(var i=0;i&lt;ds_list_size(Main.fb_request_list);i++) {
      if ds_list_find_value(Main.fb_request_type_list,i)=0 {
        var str = string("method=POST&amp;message=Here is my gift back!&amp;data="+facebook_user_id()+"&amp;access_token=251484648699009|ZC6uFCPFmnhtHVgUnotWmr76VDI");
        http_post_string(string("https://graph.facebook.com/"+ds_list_find_value(Main.fb_request_list,i)+"/apprequests"), str);
      }
    }
    ds_list_destroy(Main.fb_request_list);
    ds_list_destroy(Main.fb_request_type_list);
    scr_close_blurring(0,0);
break;

//закладки - подарки от друзей - забрать ответные
case 35:
    //только ответные, т.е. ниче не отправляем
    Main.gold_keys+=ds_list_size(Main.fb_request_list)*1;
    scr_save();
    ds_list_destroy(Main.fb_request_list);
    ds_list_destroy(Main.fb_request_type_list);
    scr_close_blurring(0,0);
break;

//закладки - подарки от друзей - отправить всем
case 36:
break;

//закладки - подарки от друзей - Пригласить всех
case 37:
  mppp = ds_map_create();
  facebook_send_invite('Feed the Pig', 'Come and play with me!', '', 'https://www.facebook.com/games/?app_id=251484648699009', mppp);
break;

//закладки - подарки от друзей - вкладка Играют
case 38:
/*with obj_bookmark_gifts {
if mode=2 {
global.bookmark_current.y=0;
global.bookmark_current.bookmark_height=friends_height[0];
mode=1;
button_send_all.visible=1;
button_invite_all.visible=0;
color1=cc_ttl_dark;
color2=cc_ttl_light;
target.bookmark_height=575+233*friends_plaing+150;
with obj_bookmark_gifts_friend {
    if playing=1 {visible=1; invite_button.visible=1}
    else {visible=0; invite_button.visible=0}
}
}
}*/
break;

//закладки - подарки от друзей - вкладка Пригласить
case 39:
/*with obj_bookmark_gifts {
if mode=1 {
global.bookmark_current.y=0;
global.bookmark_current.bookmark_height=friends_height[1];
mode=2;
button_send_all.visible=0;
button_invite_all.visible=1;
color1=cc_ttl_light;
color2=cc_ttl_dark;
target.bookmark_height=575+233*friends_fb+150;
with obj_bookmark_gifts_friend {
    if playing=1 {visible=0;invite_button.visible=0}
    else {visible=1;invite_button.visible=1}
}
}
}*/
break;

//закладки - подарки от друзей - залогиниться в Facebook
case 40:
if mode = 0 { //подарки
  scr_facebook_connect();
  obj_bookmark_gifts.alarm[2]=room_speed;
} else if mode = 1 { //хайскоры друзей
  scr_facebook_connect();
  obj_bookmark_score_controller.alarm[1]=room_speed;
}
break;

//худ - кнопка купить камни, переход в магазин
case 41:
  scr_open_bookmark_from_button(6);
break;

//закладки - подарки от друзей - кнопка отправить (лично этому другу)
case 42:
  if scr_friend_gift_available(father.friend_id)=1 {
    //TODO проверить, можно ли отправлять в эти 24 часа
    var str=string("method=POST&amp;message=Here is a gift for you!&amp;data="+facebook_user_id()+"&amp;access_token=251484648699009|ZC6uFCPFmnhtHVgUnotWmr76VDI");
    http_post_string(string("https://graph.facebook.com/"+father.friend_id+"/apprequests"), str);
    scr_save_ini('fb_delay',father.friend_id,date_current_datetime());//сохраняем время подарка
    alarm[0]=1;
  } else {
    scr_show_bluring_menu(18,0);
  }
break;

//закладки - квесты - забрать награду
case 43:
    with parent {
        if Main.quest_progress[quest_index]&lt;Main.quest_target[quest_index] {
            //если какая то ошибка - отмотать
            with other instance_destroy();
            reward_button=0;
            alarm[0]=1;
        } else {
            //все норм, даем награду
            /*Main.gems+=Main.quest_reward[quest_index];*/
                var drop=instance_create(other.x,other.y,obj_spinner_drop);   
                drop.num   = Main.quest_reward[quest_index];
                drop.type  = 3;
                drop.index = 6;
                drop.size=0.8;
                drop.reward=1;
                drop.font=font_42;
                drop.alarm[2]=room_speed*1;
            Main.quest_type[quest_index]=-1;//обнуляем квест
            scr_save();
            with other instance_destroy();
            reward_button=0;
            mtf.alarm[0]=1;//генерим новый
            alarm[0]=3;    //и перерисовываемся
        }
    } 
break;

//закладки - лидеры, прозрачная кнопка - глобальный список лидеров
case 44:
if achievement_login_status() {
    Main.leaderboard_logged=1;
}

if Main.leaderboard_logged {
    achievement_post_score('CgkIrMeq8roWEAIQAQ', Main.level_passed);
    achievement_post_score('Levels Leaderboard', Main.level_passed);
    
    achievement_show_leaderboards();
} else {
    achievement_login();
}


break;

//закладки - прозрачная кнопка, магаз - пара камней за рекламу 
case 45:
//аналитика - купил камни за рекламу
GoogleAnalytics_SendEventExt('Gameplay','Watching add','Add for gems',1);

        Main.ad_place=2;
        if AdColony_VideoAvailable()=1 {
            with Main AdColony_ShowVideo(Main.ZoneId);
        } else if AdColony_VideoAvailable()=0 and GoogleMobileAds_InterstitialStatus()=="Ready" {
            with Main {GoogleMobileAds_ShowInterstitial(); alarm[5]=room_speed*3;}
        } else {
            Main.alarm[6]=1;
        }
break;

//закладки - пауза - вкл/выкл звук 
case 46:
if Main.sound=1 Main.sound=0;
else Main.sound=1;
scr_save();
alarm[0]=1; 
break;

//закладки - пауза - вкл/выкл музыка 
case 47:
if Main.music=1 Main.music=0;
else Main.music=1;
scr_save();
alarm[0]=1; 
break;

}





clicked = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check Index

press_sound=0;
release_sound=snd_pickup; //дальше если у кого свой, подписать им это

switch(index) {
//геймплей - пауза
case -1:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_gameplay_pause;
image   = 0;
line    = '';
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - пауза - в меню
case 0:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_green;//sp_button_orange;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - пауза - продолжить
case 1:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_green;//sp_button_orange;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - прошел уровень - поделиться
case 2:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_orabge_2;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - прошел уровень - продолжить
case 3:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - прошел уровень - выход (в меню?)
case 4:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_close;
image   = 0;
line    = '';
shift   = 3;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//геймплей - завалил уровень - купить время за рекламу
case 5:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_orabge_3;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button_time_free(id);
break;

//геймплей - завалил уровень - купить время за кристаллы
case 6:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_orabge_3;
image   = 0;
line    = 10;
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button_time_crystall(id);
break;

//главное меню - ввод промокодов
case 7:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_menu_button_promo;
image   = 0;
line    = '';
shift   = 0;
break;

//главное меню - помощь
case 8:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_menu_button_help;
image   = 0;
line    = '';
shift   = 0;
break;

//главное меню - сайт
case 9:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_menu_button_site;
image   = 0;
line    = '';
shift   = 0;
break;

//главное меню - инфа
case 10:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_menu_button_info;
image   = 0;
line    = '';
shift   = 0;
break;

//закладки - прокачка - купить за предметы
case 11:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_bookmark_upgrade_butt2;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 2;
zdv     = 15;
//рисуем текстовый сюрфейс
scr_surf_button_upgrade(id,target.state);
break;

//закладки - прокачка - купить за валюту
case 12:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_27;
sprite  = sp_bookmark_upgrade_butt1;
image   = 0;
line    = mtf.l_button[index,0]+string(angle)+string('  ');
shift   = 2;
//рисуем текстовый сюрфейс
scr_surf_button_upgrade(id,target.state); //sp_icons
break;

//закладки - прозрачная кнопка - подарки
case 13:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_bookmark_button;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_bookmark_symbol,0); //sp_icons
break;

//закладки - прозрачная кнопка - ввести промокод 
case 14:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_bookmark_button;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_bookmark_symbol,1); //sp_icons
break;

//закладки - как именно открыть сундук 
case 15:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_23;
sprite  = sp_bookmark_openchest_butt;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 2;
sur_w   = 512;
sur_h   = 256;
//рисуем текстовый сюрфейс
scr_surf_bookark_openchest_button(id); //sp_icons
break;

//закладки - купить золотой ключ за камни
case 16:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
var lin='';
if mode=0      lin = ' 12    ';
else if mode=1 lin = ' 3    ';
line    = mtf.l_button[index,0]+lin;
shift   = 2;
sur_w   = 512;
sur_h   = 256;
//рисуем текстовый сюрфейс
scr_surf_bookmark_nokeys_button(id,sp_icons,0); //sp_icons
break;

//закладки - нет камней, перейти в магаз
case 17:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
shift   = 2;
sur_w   = 512;
sur_h   = 256;
if mode=0 {line=mtf.l_button[index,0]; scr_surf_button(id);}
else if mode&lt;0 {
line = mtf.l_button[index,1]+string(abs(mode))+string('    ');
scr_surf_bookmark_nokeys_button(id,sp_icons,0); //sp_icons
} else if mode=2 {
line = mtf.l_button[index,2];
scr_surf_bookmark_nokeys_button(id,sp_icons,0); //sp_icons
} else if mode=3 {
line = mtf.l_button[index,3];
scr_surf_bookmark_nokeys_button(id,sp_icons,0); //sp_icons
}

break;

case 18://открытие сундука - готово
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 2;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//закладки - прозрачная кнопка - квесты 
case 19:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_bookmark_button;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_menu_message_symbol,1); //sp_icons
break;

//закладки - назад из внутренней - квесты 
case 20:
color   = make_color_rgb(245,245,250);
shadow  = make_color_rgb(44,21,42);
font    = font_42;
sprite  = sp_button_back;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 512;
sur_h   = 128;
release_sound = snd_click2;
if visible = 0 y_shift+=6;

//рисуем текстовый сюрфейс
scr_surf_button_back(id); //sp_icons
break;

//геймплей - спиннер - крутить
case 21:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_win_big;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
if mode=0 scr_surf_button(id);//обычный
else if mode = 1 {line=mtf.l_button[index,1]+string(obj_spinner.gemspin_cost)+string('    '); scr_surf_bookmark_nokeys_button(id,sp_icons,0); if obj_spinner.gemspin_cost&gt;Main.gems image_blend=c_gray;}; //за деньги
else if mode = 2 {line=mtf.l_button[index,2]; scr_surf_bookmark_nokeys_button(id,sp_icon_video,0);}; //за рекламу

break;

//геймплей - спиннер - готово
case 22:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
     if mode=0 sprite  = sp_button_win_small1;
else if mode=1 sprite  = sp_button_win_small2;
else if mode=2 sprite  = sp_button_win_small3;
image   = 0;
line    = '';
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - рейт - не напоминать
case 23:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_blue;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - рейт - зарейтить
case 24:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

/////////
//попап - сале - купить со скидкой
case 25:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_42;
sprite  = sp_popup_big1;
image   = 0;
line    = mtf.l_button[index,0]+'0.99';
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - дейли бонус - забрать бонус
case 26:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - напиши отзыв! - не напоминать
case 27:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_blue;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - напиши отзыв! - написать
case 28:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - подарок - получить
case 29:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_popup_big1;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//попап - реклама за бонусы - смотреть рекламу
case 30:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_popup_big2;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button_watchad(id);
break;

//закладки - отзыв - отправить отзыв (сообщить о проблеме)
case 31:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_popup_big2;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//закладки - промокод - готово
case 32:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id);
break;

//закладки - прозрачная кнопка - список игр 
case 33:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_bookmark_button;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_menu_message_symbol,2); //sp_icons
break;

//закладки - подарки от друзей - отправить в ответ
//добавлять их надо где то еще до того как блюр включился?
//или после чтоб было вижно как добавились
case 34:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_popup_big2;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - подарки от друзей - забрать ответные
case 35:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - подарки от друзей - отправить всем
case 36:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//!!!!!!!!!!!!!!!!!!!!!!! 
//закладки - подарки от друзей - Пригласить всех
case 37:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_button_green;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//!!!!!!!!!!!!!!!!!!!!
//закладки - подарки от друзей - вкладка Играют
case 38:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_phantom_button;
image   = 0;
line    = '';
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//!!!!!!!!!!!!!!!!!!!!!!!!
//закладки - подарки от друзей - вкладка Пригласить
case 39:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_phantom_button;
image   = 0;
line    = '';
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - подарки от друзей - залогиниться в Facebook
case 40:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_popup_button_blue;
image   = 0;
line    = mtf.l_button[index,0];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button_login(id,sp_social,0); //sp_icons
break;

//худ - кнопка купить камни, переход в магазин
case 41:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_30;
sprite  = sp_phantom_button2;
image   = 0;
line    = '';
shift   = 3;
sur_w   = 128;
sur_h   = 128;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - подарки от друзей - кнопка пригласить (лично этогодруга)
case 42:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_27;
sprite  = sp_bookmark_upgrade_butt2;
image   = 0;
if scr_friend_gift_available(father.friend_id)=1 line    = mtf.l_button[index,0];
else line    = mtf.l_button[22,0];
shift   = 3;
sur_w   = 512;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - квесты - забрать награду
case 43:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_23;
sprite  = sp_button_win_small;
image   = 0;
line    = mtf.l_button[18,0];
shift   = 3;
sur_w   = 512;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button(id); //sp_icons
break;

//закладки - лидеры, прозрачная кнопка - глобальный список лидеров
case 44:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_bookmark_button;
image   = 0;
line    = mtf.l_other[7];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_menu_message_symbol,2); //sp_icons
break;

//закладки - прозрачная кнопка, магаз - пара камней за рекламу 
case 45:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_34;
sprite  = sp_button_add;
image   = 0;
line    = mtf.l_other[10+Main.last_gems_for_add[1]];
shift   = 3;
sur_w   = 1024;
sur_h   = 128;
release_sound = snd_click2;
//рисуем текстовый сюрфейс
scr_surf_bookark_button(id,sp_menu_message_symbol,0); //sp_icons sp_icon_video,0
//и вручную можно приделать вторую картинку,
//чтоб не делать новый скрипт-
//-а пересоздаваться сюрфейс все равно будет через этот аларм
var half=512;
surface_set_target(text_surf);
draw_sprite(sp_icon_video,0,sur_w/2+half-76,sur_h/2); //предмет в начале, даваемый в аргументах
surface_reset_target();
break;

//закладки - пауза - вкл/выкл звук 
case 46:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_23;
sprite  = sp_popup_blue2;
image   = 0;
if Main.sound=1 line=mtf.l_button[index,1];
else line=mtf.l_button[index,0];
shift   = 3;
sur_w   = 512;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button_login(id,sp_snd,1);
break;

//закладки - пауза - вкл/выкл музыка 
case 47:
color   = c_white;
shadow  = make_color_rgb(74,11,12);
font    = font_23;
sprite  = sp_popup_blue2;
image   = 0;
if Main.music=1 line=mtf.l_button[index,1];
else line=mtf.l_button[index,0];
shift   = 3;
sur_w   = 512;
sur_h   = 128;
//рисуем текстовый сюрфейс
scr_surf_button_login(id,sp_snd,0);
break;

}



if crtd=0 {
crtd=1;
scr_button_rebounce();
}

visible = 1;
sprite_index = sprite;
image_index  = image;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>clicked=0;
image_index = clicked;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Release 2-frame buttons

if visible and clicked { //два кадра и была нажата
if position_meeting(mouse_x, mouse_y, id) {
    alarm[1]=3;
    if release_sound!=0 {
        scr_sound(release_sound,1,0,1,0.5);
    }
}
clicked=0;
image_index = clicked;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if size_mod==0 and visible {
if image_blend!=c_white exit;
clicked=1;
image_index = clicked;
if press_sound!=0 {
    scr_sound(press_sound,1,0,1,1);
}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="70">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var ident = ds_map_find_value(async_load, "id");
if ident == achievement_our_info {
    achievement_post_score('CgkIrMeq8roWEAIQAQ', Main.level_passed);
    achievement_post_score('Levels Leaderboard', Main.level_passed);
    achievement_show_leaderboards();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//image_xscale += size_mod;
//image_yscale += size_mod;

/*if mooving&gt;0 {
    if mooving=1 y=target.y+y_shift;
    x=target.x+x_shift;
}*/

image_index = clicked;

draw_set_font(font);
draw_set_valign(fa_middle);
draw_set_halign(fa_center);
draw_set_color(color);
draw_self();
if surface_exists(text_surf) draw_surface_ext(text_surf,x-sur_w/2*image_xscale,y-sur_h/2*image_xscale+zdv*clicked,image_xscale,image_yscale,0,noone,1);
else alarm[0]=1/*scr_surf_button(id)*/;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
