<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_bookmark_upgrade_plash</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*x=target.x+x_shift;
y=target.y+y_shift;
button.x=x+926-buttshift;
button.y=y+296;*/

image_speed=0;

x_shift=0
y_shift=0;
target=0;
upgrade_index = 1;
upgrade_time=4; //минуты 
upgrade_open_cost=45; //цена открыть сейчас 
upgrade_open_cost_prev=45; 
state=0;
//0 - closed
//1 - opening in process
//2 - opened 
//3 - max upgraded
th=4;//время, часы мин сек
tm=0;
ts=4*60*60;
sec=60/room_speed;
state=0;
gem_cost=0; //1 когда цена только в гемах



title='Подкормить поросюню';
description = 'На каждом уровне поросёнку 
нужно меньше еды! Неплохо да?
Ат так от)))';
level = 1;
max_level = 20;

cost_1 = 1;
cost_2 = 1;
sprite=sp_bookmark_upgrade_icon;
image = 0; //sp_bookmark_upgrade_icon
//sp_bookmark_upgrade_iconback

//colors
cc_yellow=make_color_rgb(251,192,72);
cc_shadow1=make_color_rgb(80,2,0);
cc_shadow2=make_color_rgb(6,22,6);
cc_shadow3=make_color_rgb(46,8,9);

text_surf = surface_create(1024,512);
ds_list_add(Main.surface_list,text_surf);
button=0;
buttshift = 0;
alarm[0]=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>surface_free(text_surf);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///upgrade index

level       =Main.upgrade[upgrade_index,0];
max_level   =Main.upgrade[upgrade_index,1];
cost_1      =Main.upgrade[upgrade_index,2];
title       =Main.upgrade[upgrade_index,5];
description =Main.upgrade[upgrade_index,6]; 

switch upgrade_index {
case 1://Будильник
sprite      =sp_bookmark_upgrade_icon;
image       = 0; 
break;

case 2://Сытый поросёнок'
sprite      =sp_bookmark_upgrade_icon;
image       = 1; 
break;

case 3://Бесплатный спин'
sprite      =sp_bookmark_upgrade_icon;
image       =10; 
if level=1 gem_cost=1;
else gem_cost=0;
break;

case 4://Золотой спиннер'
sprite      =sp_bookmark_upgrade_icon;
image       = 8; 
break;

case 5://Помощники в спиннере'
sprite      =sp_bookmark_upgrade_icon;
image       = 9; 
break;

case 6://Поросёнок-Взломщик'
sprite      =sp_bookmark_upgrade_icon;
image       = 6; 
break;

case 7://Поросёнок-Пират'
sprite      =sp_bookmark_upgrade_icon;
image       = 7; 
break;

case 8://Поросёнок-Бизнесмен'
sprite      =sp_bookmark_upgrade_icon;
image       = 3; 
break;

case 9://Поросёнок-Инноватор'
sprite      =sp_bookmark_upgrade_icon;
image       = 5; 
break;

case 10://Помощник: Г.Р.И.Б.'
sprite      =sp_powerups;
image       = 0; 
break;

case 11://Помощник: Крест'
sprite      =sp_powerups;
image       = 1; 
break;

case 12://Помощник: Мухи'
sprite      =sp_powerups;
image       = 2; 
break;

case 13://Помощник: Замедление'
sprite      =sp_powerups;
image       = 3; 
break;

case 14://Помощник: Заморозка'
sprite      =sp_powerups;
image       = 4; 
break;

case 15://Еда: Блинчики'
sprite      =sp_gameplay_items;
image       = 0; 
break;

case 16://Еда: Мороженное'
sprite      =sp_gameplay_items;
image       = 1; 
break;

case 17://Еда: Гамбургер'
sprite      =sp_gameplay_items;
image       = 2; 
break;

case 18://Еда: Кекс' 
sprite      =sp_gameplay_items;
image       = 3; 
break;

case 19://Еда: Милкшейк'
sprite      =sp_gameplay_items;
image       = 4; 
break;

case 20://Еда: Пицца'
sprite      =sp_gameplay_items;
image       = 5; 
break;

case 21://Еда: Пончик'
sprite      =sp_gameplay_items;
image       = 6; 
break;

case 22://Еда: Картошка Фри'
sprite      =sp_gameplay_items;
image       = 7; 
break;

case 23://Еда: Тортик'
sprite      =sp_gameplay_items;
image       = 8; 
break;

case 24://Еда: Яишня';
sprite      =sp_gameplay_items;
image       = 9; 
break;
}

//рисуем сюрфейс апгрейда
//обычная цена этого апгрейда
upgrade_time=scr_upgrade_time(((Main.upgrade[upgrade_index,0]+1)*Main.upgrade[upgrade_index,2]));
scr_upgrade_cost();//пересчитаем цены штоп писать нормальные
scr_surf_upgrade(id);
alarm[0]=room_speed*60;

/*
//if global.item_num[cost_obj_1]&gt;=cost_1 and global.item_num[cost_obj_2]&gt;=cost_2 {
    //можно купить за предметы
    button=instance_create(x+926-LSHIFT,y+296,obj_button);
    button.index=11;
    button.depth=-1;
    button.target = id;
    buttshift=0;//sprite_get_width(sp_bookmark_upgrade_butt2)/2;
/*} else {
    //только за хард валюту
    button=instance_create(x+1091-LSHIFT,y+389,obj_button);
    button.index=12;
    button.depth=-1;
    button.angle=floor(((cost_1-global.item_num[cost_obj_1]) + (cost_2-global.item_num[cost_obj_2]))/10);
    if button.angle&lt;1 button.angle=1;
    buttshift=sprite_get_width(sp_bookmark_upgrade_butt1)/2;
}
ds_list_add(target.child_list,button);*/


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite(sp_bookmark_upgrade_plash,state,x,y);
if surface_exists(text_surf) draw_surface(text_surf,x,y);
else alarm[0]=1; //scr_surf_upgrade(id);

/*if state=1 {
ts-=sec/60;
th=ts div 3600;
tm=(ts mod 3600) div 60;
if ts&lt;=0 {
    state=2;
    scr_surf_upgrade(id);
    Main.upgrade[upgrade_index,7]=2;
    scr_save();
}

upgrade_open_cost=ceil(ts/3600*6);
if upgrade_open_cost_prev!=upgrade_open_cost {
    button.alarm[0]=1;
}
upgrade_open_cost_prev=upgrade_open_cost;

draw_set_color(c_white);
draw_set_font(font_27);
draw_set_valign(fa_middle);
draw_set_halign(fa_left);
draw_text(x+361-40,y+317,string(th)+string('ч ')+string(tm+1)+string('мин'));// время улучшения
}*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
