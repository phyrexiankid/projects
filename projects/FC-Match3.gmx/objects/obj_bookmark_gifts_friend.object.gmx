<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_friend_plash</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>choosen = 0;

try_num=0;
playing=1;
x_shift=0;
y_shift=0;
target=0;
friend_name = '';
friend_id = 0;
size = 1;
invite_button=0;   
player_picture = sp_bookmark_levels;  
 
image_speed=0;

alarm[0]=1;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///получена ли фотка?


if ds_map_exists(fb_photo_recieve, "data") { 
    //var data_list_curr,request_score,request_user,request_id,requester_id; 
    var data_map=ds_map_find_value(fb_photo_recieve,"data");                 // ds_map
    player_picture = ds_map_find_value(data_map,"url");                      // value 

    player_picture = sprite_add(player_picture, 1, false, false, 120, 120);
    //destroy maps, free memory
    ds_map_destroy(data_map);
    ds_map_destroy(fb_photo_recieve);
    size=1/240*160;
} else {
    //no connection or graphresponse still not populated
    try_num+=1;
    if try_num&lt;11 alarm[0]=1;
}



/*{
  "data": {
    "is_silhouette": false,
    "url": "https://scontent.xx.fbcdn.net/v/t1.0-1/c9.0.50.50/p50x50/1797362_10201543680062015_577802019_n.jpg?oh=03ef48bc1adf84a21b5908d6f8b19afa&amp;oe=59F04632"
  }
}*/

/*    ПРИMЕР СКОРОВ

var Map = ds_map_create();
ds_map_add(Map, "access_token", token);
facebook_graph_request(string(global.facebook_app_id) + "/scores", "GET", Map, graphResponse);

if global.Auth { // If we've got a response to our friends list request then display it please
if (ds_map_exists(graphResponse, "data")) { // Make sure that the map exist
var dataList, dataListSize, n, idNum, friendMap, friendMap2, currentKey, currentValue; // Set up local vars
dataList = ds_map_find_value(graphResponse, "data"); // Get the "data" list from the map
dataListSize = ds_list_size(dataList); // Get the size of the data list 
global.score_grid = ds_grid_create(7,dataListSize); 
for (n=0;n&lt;dataListSize;n++) { // Loop through the list to get the names 
friendMap = ds_list_find_value(dataList, n); // Gets the ds_map from the list (this is the id/friend map)
currentKey = ds_map_find_first(friendMap); // Gets the first friend key (id) 
while (ds_map_exists(friendMap, currentKey)) { // loop through the list, getting each ds_map 
currentValue = ds_map_find_value(friendMap, currentKey); // Get the friend that corresponds to the id 
if string(currentKey) == "user" { 
friendMap2 = ds_map_find_value(currentValue,"name");
ds_grid_set(global.score_grid,0,global.namenum,string(friendMap2)); ////stores user name
friendMap2 = ds_map_find_value(currentValue,"id"); 
ds_grid_set(global.score_grid,4,global.namenum,string(friendMap2)); ////stores users ID 
ds_grid_set(global.score_grid,5,global.namenum,global.namenum);///stores number they came in 
if !ds_map_exists(FBDiamonds,friendMap2) {
ds_map_add(FBDiamonds,friendMap2,0); /// stores if you sent them a gift 
}; 
ds_grid_set(global.score_grid,6,global.namenum,0); ///stores if you clicked diamonds after sent 
};
if string(currentKey) == "score" { 
var num = floor(currentValue / 1000);
var num2 = currentValue mod 10; 
var num3 = (floor(currentValue / 10) mod 100);
if num2 &gt; 2 {
num2 -= 3;
num3 = 100;
};
ds_grid_set(global.score_grid,1,global.namenum,num); ////stores high score
ds_grid_set(global.score_grid,2,global.namenum,(string(num2))); //// stores group high score is on
ds_grid_set(global.score_grid,3,global.namenum,(string(num3))); //// stores level data
}; 
currentKey = ds_map_find_next(friendMap, currentKey); // Get the next ds_map id key 
}; 
global.namenum++; 
}; 
ds_map_secure_save(FBDiamonds,FBDiamondsFile);
retry = 0;
ds_grid_sort(global.score_grid,1,0);
GoogleAnalytics_SendEvent( "Facebook", "Log In-Friends Play: " + string(global.namenum - 1)); 
alarm[3] = 1; 
alarm[4] = 1; 
} else {
if retry &lt;= 6 {
retry++;
alarm[0] = 60;
} else {
instance_destroy();
scr_FBscript_globals();
};
};
} else {
instance_destroy();
scr_FBscript_globals(); 
};*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///пытаемся получить фотку с фб




var str = string(friend_id)+string("/picture?redirect=0&amp;height=240&amp;width=240");

if friend_id!=0 {
  fb_photo_recieve = ds_map_create();
  ds_map_clear(fb_photo_recieve);
  facebook_graph_request(str, "GET", -1, fb_photo_recieve);
  alarm[1] = room_speed*1;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_picture!=sp_bookmark_levels sprite_delete(player_picture);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//x=target.x;
//y=target.y+y_shift;

draw_self();
//фото из фейсбука 160 на 160
draw_sprite_ext(player_picture, 0,x-413,y, size, size, 0, c_white, 1);
//имя чувака - наверно будет даваться при создании
draw_set_font(font_34);
draw_set_valign(fa_middle);
draw_set_halign(fa_left);
draw_set_color(c_white);
draw_text(x-300,y,friend_name);


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
