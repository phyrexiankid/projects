<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_gameplay_flyes</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-50</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>setupfly=0;
target=id;
image_xscale=1.3;//добавить чтоб по ходу размер менялся?
image_yscale=1.3;
phase=1;
shift_time=30/global.spd;
zigz = choose(1,2,3,4);
alarm[1]=shift_time;
t = -sqrt(shift_time);
move_side = choose(-1,1);
direction = 0;
speed=0;
stop=0;

//звук
alarm[2]=1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///звук
//randomize();
var ptch=random_range(1.0,1.2);

var chns=choose(0,0,1);

if chns=1 {
if setupfly=0 {//короткая муха 
    var snd=choose(snd_bee_1,snd_bee_2,snd_bee_3,snd_bee_4,snd_bee_5,snd_bee_7,snd_bee_8,snd_bee_9,snd_bee_9);
    scr_sound(snd,1,0,ptch,2);
    scr_sound(snd,1,0,ptch,1);
} else {      //долгая муха
    var snd=choose(snd_bee_4,snd_bee_5,/*snd_bee_6,*/snd_bee_7,snd_bee_8,snd_bee_9,snd_bee_11);
    scr_sound(snd,1,0,ptch,2);
    scr_sound(snd,1,0,ptch,1);
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///change shift
if phase=1 {
phase=2;
move_side*=-1;
alarm[1]=shift_time;
}
else {
    speed=0;
    if setupfly=0 { //нормальная муха из поверапа
        scr_powerup_fly_effect(id);
    } else if setupfly=1 { //муха из комбо прилетела ждать
        stop=1;
        alarm[0]=room_speed/3;//obj_controller_gameplay.alarm[9];
    } else if setupfly=2 { //муха из комбо прилетела на цель
        scr_powerup_fly_effect(id);
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if obj_controller_gameplay.alarm[9]&gt;0 {
    alarm[0]=obj_controller_gameplay.alarm[9]+1;
    exit;
}
        
        //эта муха берет себе рандомную цель
        var xt=random_range(452+10,1380-10); 
        var yt=random_range(578+10,1773-10);
        target = instance_nearest(xt,yt,obj_item); 
        if target.row=0 {
            target=instance_nearest(xt,yt+180,obj_item); 
        }
        direction=point_direction(x,y,target.x,target.y);
        shift_time=choose(6,7,8)*2*(2/global.spd);
        speed=(point_distance(x,y,target.x,target.y)/(shift_time));
        zigz = choose(1,2,3,4);
        alarm[1]=shift_time;
        t = -sqrt(shift_time);
        move_side = choose(-1,1);
        setupfly=2;
        stop=0;
        phase=2;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if stop=0 {
    t = sqrt(abs(alarm[1]-shift_time));
    shift = (move_side*(-power(t,2) + shift_time/2));
 
    x+=lengthdir_x(shift*zigz,direction-45);
    y+=lengthdir_y(shift*zigz,direction-45);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
